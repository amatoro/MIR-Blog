<div class="row">
  <div class="col-xs-12">
    <%= link_to 'New Post', new_post_path, class: 'btn btn-default pull-right' %>
  </div>
</div>

<div class="row">
  <div class="col-xs-12">
    <h1>Blog posts</h1>

    <table class="table">
      <tr>
        <th>Title</th>
        <th>Author</th>
        <th>Content</th>
        <th>Actions</th>
      </tr>
      <% @posts.each do |post| %>
      <tr>
        <td><%= link_to post.title, post %></td>
        <td><%= post.author %></td>
        <td><%= truncate(post.content, length: 80) %></td>
        <td> (<%= post.comments.count %>) 
      
      <% if user_signed_in? && current_user.admin? %>      
        <%= link_to post_path(post) do %> 
          <i class="fa fa-eye" aria-hidden="true"></i> 
        <% end %>
        | 
        <%= link_to edit_post_path(post) do %>
          <i class="fa fa-pencil-square-o" aria-hidden="true"></i> 
        <% end  %>
        | 
        <%= link_to post, :method => :delete, data: { confirm: "Are you sure you want to delete this entry?" } do %>
          <i class="fa fa-trash" aria-hidden="true"></i>
        <% end %>
      <% end %>
        </td>
      </tr>
      <% end %>
    </table>
  </div>
</div>

<!-- 
post_path(post)
post
post_path(id: post.id ) -->